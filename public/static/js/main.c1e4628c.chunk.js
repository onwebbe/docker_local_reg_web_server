(this.webpackJsonpdocker_local_reg_web=this.webpackJsonpdocker_local_reg_web||[]).push([[0],{139:function(e,a,t){e.exports=t(248)},144:function(e,a,t){},145:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},146:function(e,a,t){},248:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(8),i=t.n(s),o=(t(144),t(145),t(146),t(59),t(11)),c=(t(67),t(39)),l=(t(76),t(33)),m=(t(77),t(17));var u=function(){return r.a.createElement("div",{className:"appHeader"},r.a.createElement(l.a,{gutter:16},r.a.createElement(m.a,{className:"gutter-row",span:18},r.a.createElement("div",{className:"gutter-box",style:{color:"white"}},"Local Registry UI")),r.a.createElement(m.a,{className:"gutter-row",span:6},r.a.createElement("div",{className:"gutter-box",style:{color:"white"}},"Login"))))},g=t(55);var d=function(){return r.a.createElement("div",{className:"appMenu"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/",exact:!0,activeStyle:{color:"blue"}},"Registry")),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/images",exact:!0,activeStyle:{color:"blue"}},"Images")))},h=t(40),p=(t(160),t(134)),v=(t(162),t(133)),f=t(27),b=t(28),N=t(31),E=t(29),y=t(56),O=t(30),k=(c.a.SubMenu,o.a.Header,o.a.Content,o.a.Sider,function(e){function a(e){var t;if(Object(f.a)(this,a),(t=Object(N.a)(this,Object(E.a)(a).call(this,e))).state={},window.localStorage){var n=localStorage.getItem("storedRegistry"),r={host:"",port:"",apiVersion:"2"};null==n||""==n||(r=JSON.parse(n)),t.state=r}else{t.state={host:"error",port:"error",apiVersion:"error"}}return t.handleChange=t.handleChange.bind(Object(y.a)(t)),t.submitForm=t.submitForm.bind(Object(y.a)(t)),t}return Object(O.a)(a,e),Object(b.a)(a,[{key:"handleChange",value:function(e){var a=e.target.value,t={};t[e.target.getAttribute("name")]=a,this.setState(t),console.log(this.state)}},{key:"submitForm",value:function(e){if(window.localStorage){var a=JSON.stringify(this.state);localStorage.setItem("storedRegistry",a),v.a.info("Saved")}}},{key:"render",value:function(){return r.a.createElement("div",{className:"registDockerServer"},r.a.createElement("div",{className:"dataRow"},r.a.createElement("div",null,r.a.createElement("h3",null,"Please regist your local docker registry"))),r.a.createElement("div",{className:"dataRow"},r.a.createElement("div",{className:"dataLabel"},"Host"),r.a.createElement("div",{className:"dataField"},r.a.createElement("input",{name:"host",value:this.state.host,onChange:this.handleChange}))),r.a.createElement("div",{className:"dataRow"},r.a.createElement("div",{className:"dataLabel"},"Port"),r.a.createElement("div",{className:"dataField"},r.a.createElement("input",{name:"port",value:this.state.port,onChange:this.handleChange}))),r.a.createElement("div",{className:"dataRow"},r.a.createElement("div",{className:"dataLabel"},"API Version"),r.a.createElement("div",{className:"dataField"},r.a.createElement("input",{name:"apiVersion",vvalue:this.state.apiVersion,onChange:this.handleChange}))),r.a.createElement("div",{className:"dataRow"},r.a.createElement(p.a,{type:"primary",onClick:this.submitForm},"Primary")))}}]),a}(r.a.Component)),w=t(98),I=t.n(w),j=t(94),S=t.n(j),C=(t(249),t(132)),R=(t(234),t(135)),L=function(e){function a(){return Object(f.a)(this,a),Object(N.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(O.a)(a,e),Object(b.a)(a,[{key:"render",value:function(e){return this.props.tagList.map((function(e,a){return r.a.createElement(R.a,{className:"tagItem",color:"blue"},e.tagName)}))}}]),a}(r.a.Component),x=function(e){function a(){return Object(f.a)(this,a),Object(N.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(O.a)(a,e),Object(b.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"imageCard"},r.a.createElement(C.a,{title:this.props.imageInfo.imageName,style:{width:"100%"}},r.a.createElement("div",{className:"tagList"},r.a.createElement(L,{tagList:this.props.imageInfo.tags}))))}}]),a}(r.a.Component),_=(c.a.SubMenu,o.a.Header,o.a.Content,o.a.Sider,function(e){function a(e){var t;return Object(f.a)(this,a),t=Object(N.a)(this,Object(E.a)(a).call(this,e)),console.log(e.imageInfoList.map),t}return Object(O.a)(a,e),Object(b.a)(a,[{key:"render",value:function(){return this.props.imageInfoList.map((function(e,a){return r.a.createElement(m.a,{className:"gutter-row",span:6,key:a},r.a.createElement("div",{className:"gutter-box"},r.a.createElement(x,{imageInfo:e})))}))}}]),a}(r.a.Component)),V=(t(244),c.a.SubMenu,o.a.Header,o.a.Content,o.a.Sider,function(e){function a(e){var t;if(Object(f.a)(this,a),(t=Object(N.a)(this,Object(E.a)(a).call(this,e))).state={registryObj:{},isRegistryReady:!1,imageInfoList:[]},window.localStorage){var n=localStorage.getItem("storedRegistry"),r={host:"",port:"",apiVersion:"2"};null==n||""==n?t.state.isRegistryReady=!1:(r=JSON.parse(n),t.state.isRegistryReady=!0),t.state.registryObj=r}else{t.state.registryObj={host:"error",port:"error",apiVersion:"error"}}return console.log(t.state),t.getImageInfo(),t}return Object(O.a)(a,e),Object(b.a)(a,[{key:"getImageInfo",value:function(){var e;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.a.awrap(this.getImageInfoV2());case 3:e=a.sent,this.setState((function(a,t){return a.imageInfoList=e,a})),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),null,this,[[0,7]])}},{key:"getImageInfoV1",value:function(){}},{key:"getImageInfoV2",value:function(){var e=this.state.registryObj,a="localDocker/getImageList?apihost="+e.host+"&apiport="+e.port;return new Promise((function(e,t){S.a.get(a).then((function(a){var n=a.data;if(1==n.success){var r=n.data;e(r)}else t(n.msg)}))}))}},{key:"getImageInfoV2Dummy",value:function(){return new Promise((function(e,a){setTimeout((function(){e([{imageName:"cdp_saf_automation_base",tags:[{tagName:"1.0beta"},{tagName:"2.0beta"}]},{imageName:"cdp_saf_automation_createdocker",tags:[{tagName:"2.0beta"}]},{imageName:"copernicium-node",tags:[{tagName:"1.0"}]},{imageName:"copernicium-sapjvm",tags:[{tagName:"1.0"}]},{imageName:"coredns",tags:[{tagName:"1.6.5"}]},{imageName:"etcd",tags:[{tagName:"3.4.3-0"}]},{imageName:"kube-apiserver",tags:[{tagName:"v1.17.0"}]},{imageName:"kube-controller-manager",tags:[{tagName:"v1.17.0"}]},{imageName:"kube-proxy",tags:[{tagName:"v1.17.0"}]},{imageName:"kube-scheduler",tags:[{tagName:"v1.17.0"}]},{imageName:"lp3",tags:[{tagName:"latest"}]},{imageName:"pause",tags:[{tagName:"3.1"}]}])}))}))}},{key:"_addImageByName",value:function(e){if(!this.state.imageInfoList.find((function(a,t,n){return a.imageName===e}))){var a={imageName:e,tags:[]};this.state.imageInfoList.push(a)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"registDockerServer"},r.a.createElement("div",{className:"dataRow",style:{display:this.state.isRegistryReady?"none":""}},r.a.createElement("div",null,r.a.createElement("h3",null,"Please regist your local docker registry"))),r.a.createElement(l.a,{gutter:[16,16]},r.a.createElement(_,{imageInfoList:this.state.imageInfoList})))}}]),a}(r.a.Component)),F=(c.a.SubMenu,o.a.Header),H=o.a.Content,P=o.a.Sider;var J=function(){return r.a.createElement(o.a,null,r.a.createElement(g.a,null,r.a.createElement(F,{className:"header"},r.a.createElement("div",{className:"logo"}),r.a.createElement(u,null)),r.a.createElement(o.a,null,r.a.createElement(P,{width:200,style:{background:"#fff"}},r.a.createElement(d,null)),r.a.createElement(o.a,{style:{padding:"0 24px 24px"}},r.a.createElement(H,{style:{background:"#fff",padding:24,margin:0,minHeight:280}},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:k}),r.a.createElement(h.a,{exact:!0,path:"/images",component:V})))))))};var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[139,1,2]]]);
//# sourceMappingURL=main.c1e4628c.chunk.js.map